# 📚 MD Document Browser

プロジェクト内のMarkdownドキュメントを一覧表示・閲覧・検索できるWebアプリケーション

## 🎯 目的

SSH + Claude CLIでの開発時に生成される多数のMDファイル（レポート、計画書、ドキュメント）を効率的に管理・閲覧するためのツール。プロジェクト間での情報共有を容易にします。

## ✨ 主な機能

### 1. ファイル管理
- 📁 **プロジェクト別表示**: 複数プロジェクトのMDファイルを統合管理
- 🔍 **スマートソート**: ファイルの重要度（README、CLAUDE、REPORT等）で自動優先順位付け
- 📅 **最近の更新**: タイムスタンプベースでの最新ファイル表示

### 2. 閲覧機能
- 📖 **リアルタイムプレビュー**: MDファイルを美しくレンダリング
- 📑 **自動目次生成**: 見出しから目次を自動作成
- 🎨 **シンタックスハイライト**: コードブロックの色分け表示

### 3. 検索機能
- 🔎 **全文検索**: ファイル内容を横断検索
- 💡 **ハイライト表示**: 検索結果のマッチ箇所を強調表示
- 📊 **検索結果プレビュー**: マッチした行を即座に確認

### 4. 便利機能
- 📋 **ワンクリックコピー**: MDファイルの内容をクリップボードへ
- 💾 **ダウンロード**: ローカルへのファイル保存
- 🔗 **URL共有**: 特定ファイルへの直接リンク

## 🚀 クイックスタート

### 1. インストール

```bash
cd /home/takedais/md-browser
pip install -r requirements.txt
```

### 2. 起動

```bash
python app.py
```

ブラウザで http://localhost:5555 にアクセス

### 3. 設定カスタマイズ

`md_browser_config.json`を編集してプロジェクトを追加：

```json
{
  "projects": [
    {
      "name": "プロジェクト名",
      "path": "/path/to/project",
      "description": "プロジェクトの説明",
      "color": "#3498db"
    }
  ]
}
```

## 🎨 UI/UX

### レイアウト
```
┌─────────────┬────────────────────────┐
│  サイドバー  │    メインコンテンツ      │
├─────────────┼────────────────────────┤
│ ・検索      │                        │
│ ・プロジェクト│    MDファイル表示      │
│ ・ファイル一覧│                        │
│ ・最近の更新 │    目次（フローティング） │
└─────────────┴────────────────────────┘
```

### カラーコード（優先度表示）
- 🔴 **赤**: 最重要（README.md、CLAUDE.md）
- 🟡 **黄**: 重要（REPORT、PLAN）
- 🟢 **緑**: 通常（SUMMARY）
- ⚪ **白**: その他

## 🔧 技術スタック

### バックエンド
- **Flask**: 軽量Webフレームワーク
- **markdown2**: MDからHTMLへの変換
- **chardet**: 文字エンコーディング自動検出

### フロントエンド
- **Vanilla JavaScript**: 依存関係を最小限に
- **CSS3**: モダンなデザイン
- **レスポンシブ対応**: モバイルでも快適

## 📁 ディレクトリ構成

```
md-browser/
├── app.py                 # メインアプリケーション
├── templates/
│   └── index.html         # UIテンプレート
├── static/                # 静的ファイル（CSS/JS）
├── requirements.txt       # Python依存関係
├── md_browser_config.json # 設定ファイル
└── README.md             # このファイル
```

## 🎯 ユースケース

### 1. プロジェクトドキュメント管理
```
医療音声認識プロジェクト
├── MEDICAL_VOICE_RECOGNITION_REPORT.md  # 総合報告書
├── FRONTEND_IMPLEMENTATION_PLAN.md      # 実装計画
├── DICTIONARY_UPDATES_SUMMARY.md        # 辞書更新記録
└── CLAUDE.md                            # Claude CLI用指示書
```

### 2. 横断検索
- 「認識精度」で検索 → 全プロジェクトの精度関連情報を一覧
- 「TODO」で検索 → 未完了タスクを横断的に確認

### 3. 知識共有
- URLパラメータ付きリンクで特定ドキュメントを共有
- 最新の更新情報を素早くチェック

## 🛠️ 高度な使い方

### API エンドポイント

| エンドポイント | 説明 |
|-------------|------|
| `/api/projects` | プロジェクト一覧 |
| `/api/files/<path>` | ファイル一覧 |
| `/api/file?path=<path>` | ファイル内容取得 |
| `/api/search?q=<query>` | 全文検索 |
| `/api/recent` | 最近の更新 |
| `/api/config` | 設定の取得/更新 |

### カスタマイズ

#### ファイル優先度の変更
`app.py`の`get_file_priority()`メソッドを編集

#### 除外ディレクトリの追加
`md_browser_config.json`の`excluded_dirs`に追加

#### 新しいプロジェクトの追加
設定ファイルの`projects`配列に追加

## 💡 Tips

### キーボードショートカット
- `Ctrl/Cmd + F`: 検索フォーカス
- `Escape`: 目次を閉じる

### パフォーマンス最適化
- 大規模プロジェクトでは`recursive: false`で直下のみ表示
- `max_file_size_kb`で大きなファイルを除外

### セキュリティ
- ローカル使用前提（認証なし）
- 本番環境では認証機能の追加を推奨

## 🤝 貢献

改善案や機能追加のアイデアは歓迎です！

## 📄 ライセンス

MIT License

---

**作成**: 2024年9月26日
**目的**: Claude CLIでの効率的なドキュメント管理
**対象**: SSH経由でClaude CLIを使用する開発者